<div class="panel panel-default">
  <div class="panel-heading" id="admin_listings_head">
    <h2 class="panel-title"><a data-toggle="collapse" href="#admin_listings" aria-expanded="true" aria-controls="admin_listings">Cities</a></h2>
  </div>
  <div id="admin_listings" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="admin_listings_head">
    <div class="panel-body">
      <%= form_tag(admin_cities_search_path, :method => "get", id: "search-form") do %>
        <div class="form-inline text-right">
          <%= text_field_tag :q, params[:q], class: "form-control", placeholder: "Search Cities" %>
          <!-- In order to have the "search" icon int the button, we need to use plain HTML instead
               of using a Rails form helper -->
          <button class="btn" type="submit"><i class="fa fa-search"></i></button>
        </div>
      <% end %>
      <table class="table">
        <thead>
          <tr>
            <th>Name</th>
            <th>State</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @cities.each do |city| %>
            <tr>
              <td><%= city.name %></td>
              <td><%= city.state.name%></td>
              <td>
                <%= link_to "Edit", edit_admin_city_path(city), class: 'btn btn-orange btn-mini', id: "edit-city-#{city.id}" %>
                <%= link_to "Delete", admin_city_path(city), method: :delete, data: { confirm: 'Are you sure? This cannot be undone.' }, class: 'btn btn-danger btn-mini', id: "delete-city-#{city.id}" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
      <%= paginate @cities %>
    </div>
  </div>
</div>
