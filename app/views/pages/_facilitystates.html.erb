<ul class="icon-list map-list">
  <div class="row">
    <div class="col-lg-15 visible-lg">
      <% all_states.first(51).each_with_index do |(k,v),i| %>
        <li>
          <%= link_to search_directory_state_path('rehabs', k) do %>
            <i class="fa fa-map-marker"></i> <%= v["full_state"] %>
          <% end %>
        </li>
        <% if (i+1) % 11 == 0 && (i+1) != all_states.size %>
          </div><div class="col-lg-15 visible-lg">
        <% end %>
      <% end %>
    </div>
    <div class="col-md-3 hidden-sm col-xs-6 hidden-lg">
      <% all_states.first(51).each_with_index do |(k,v),i| %>
        <li>
          <%= link_to search_directory_state_path('rehabs', k) do %>
            <i class="fa fa-map-marker"></i> <%= v["full_state"] %>
          <% end %>
        </li>
        <% if (i+1) % 14 == 0 && (i+1) != all_states.size %>
          </div><div class="col-md-3 hidden-sm col-xs-6 hidden-lg">
        <% end %>
      <% end %>
    </div>
    <div class="col-sm-4 visible-sm">
      <% all_states.first(51).each_with_index do |(k,v),i| %>
        <li>
          <%= link_to search_directory_state_path('rehabs', k) do %>
            <i class="fa fa-map-marker"></i> <%= v["full_state"] %>
          <% end %>
        </li>
        <% if (i+1) % 17 == 0 && (i+1) != all_states.size %>
          </div><div class="col-sm-4 visible-sm">
        <% end %>
      <% end %>
    </div>
  </div>
</ul>